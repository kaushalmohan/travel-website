/* Global performance optimizations */
@layer base, components, utilities;

/* Base layer for fundamental styles */
@layer base {
  /* Use passive hardware acceleration with will-change */
  .transform, 
  .transition,
  .animate,
  .hover\:scale,
  [class*="hover\:transform"] {
    will-change: transform;
  }
  
  /* Optimize background image painting */
  .bg-cover,
  .bg-contain,
  .object-cover,
  .object-contain {
    will-change: contents;
    contain: paint;
  }
  
  /* Setup content-visibility for different levels of priority */
  .priority-high {
    content-visibility: visible;
  }
  
  .priority-medium {
    content-visibility: auto;
    contain-intrinsic-size: 0 500px;
  }
  
  .priority-low {
    content-visibility: auto;
    contain-intrinsic-size: 0 300px;
  }
  
  /* Optimize animations */
  @media (prefers-reduced-motion: reduce) {
    * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }
}

/* Components layer for specific component optimizations */
@layer components {
  /* Optimize carousel components */
  .carousel-container {
    contain: layout style paint;
  }
  
  .carousel-image-container {
    will-change: opacity;
  }
  
  /* Optimize modal components */
  .modal,
  .modal-backdrop,
  .drawer,
  .dialog {
    contain: layout size paint;
  }
  
  /* Optimize dropdown menus */
  .dropdown-menu,
  .popup,
  .tooltip {
    contain: content;
  }
  
  /* Optimize image containers */
  .image-container {
    contain: layout style inline-size;
  }
  
  /* Use hardware acceleration for sticky headers */
  .sticky {
    will-change: transform;
    transform: translateZ(0);
  }
}

/* Utilities layer for performance utility classes */
@layer utilities {
  /* Content visibility utilities */
  .content-visible {
    content-visibility: visible;
  }
  
  .content-auto {
    content-visibility: auto;
    contain-intrinsic-size: 0 500px;
  }
  
  .content-hidden {
    content-visibility: hidden;
  }
  
  /* Layout contain utilities */
  .contain-strict {
    contain: strict;
  }
  
  .contain-content {
    contain: content;
  }
  
  .contain-paint {
    contain: paint;
  }
  
  .contain-layout {
    contain: layout;
  }
  
  .contain-size {
    contain: size;
  }
  
  /* Will-change utilities */
  .will-change-transform {
    will-change: transform;
  }
  
  .will-change-opacity {
    will-change: opacity;
  }
  
  .will-change-scroll {
    will-change: scroll-position;
  }
  
  /* Fluid image containers */
  .image-wrapper {
    position: relative;
    width: 100%;
    height: 0;
    overflow: hidden;
  }
  
  /* Common aspect ratios */
  .aspect-square {
    padding-bottom: 100%;
  }
  
  .aspect-video {
    padding-bottom: 56.25%;
  }
  
  .aspect-4-3 {
    padding-bottom: 75%;
  }
  
  .aspect-3-2 {
    padding-bottom: 66.66%;
  }
} 