---
import Layout from '../../layouts/Layout.astro';
---

<Layout 
  title="Women's IPL Final 2025 | Lifeing Together with Pankhuri and Kaushal"
  description="Our exciting experience attending the Women's IPL Final between Mumbai Indians and Delhi Capitals at Brabourne Stadium in Mumbai in March 2025."
>
  <main class="py-12 bg-gray-100">
    <div class="container mx-auto px-4 max-w-4xl">
      <!-- Header -->
      <div class="mb-8 text-center">
        <h1 class="text-4xl md:text-5xl font-bold mb-4 text-black">Experiencing the Women's IPL Final in Mumbai</h1>
        <div class="flex items-center justify-center text-gray-600 mb-6">
          <span class="mr-4 flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
            </svg>
            March 15, 2025
          </span>
          <span class="flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
            </svg>
            Mumbai, India
          </span>
        </div>
      </div>
      
      <!-- Hero Image -->
      <div class="mb-12 aspect-[16/9] bg-gray-200 rounded-xl overflow-hidden">
        <img 
          src="/images/experiences/womens-ipl-2025/image1.webp" 
          srcset="/images/experiences/womens-ipl-2025/image1.webp 1200w,
                  /images/experiences/womens-ipl-2025/image1-800w.webp 800w,
                  /images/experiences/womens-ipl-2025/image1-400w.webp 400w"
          sizes="(max-width: 768px) 100vw, 1200px"
          alt="Anticipation before the Women's IPL Final" 
          class="w-full h-full object-cover"
          width="1200" 
          height="675"
          loading="eager" />
      </div>
      
      <!-- Article Content -->
      <div class="prose prose-lg max-w-none">
        <p class="lead text-xl text-black">
          For cricket enthusiasts like Pankhuri and me, there's nothing quite like the electrifying atmosphere of watching a high-stakes match live from the stadium. When we learned that the Women's IPL Final would be held at Brabourne Stadium in Mumbai on March 15th, we knew we had to be there.
        </p>
        
        <h2 class="text-2xl font-bold mt-8 mb-4 text-black">Cricket Passion</h2>
        <p class="text-black mb-6">
          Both Pankhuri and I are absolute cricket nuts. Whenever possible, we make it a point to watch games in the stadium rather than on television. There's something magical about being part of the crowd, feeling the collective anticipation, excitement, and sometimes heartbreak that simply doesn't translate through a screen. So when the opportunity arose to attend the Women's IPL Final, we jumped at the chance.
        </p>
        
        <div class="my-8">
          <div class="aspect-[16/9] bg-gray-200 rounded-lg overflow-hidden">
            <img 
              src="/images/experiences/womens-ipl-2025/image4.webp" 
              srcset="/images/experiences/womens-ipl-2025/image4.webp 800w,
                      /images/experiences/womens-ipl-2025/image4-800w.webp 800w,
                      /images/experiences/womens-ipl-2025/image4-400w.webp 400w"
              sizes="(max-width: 768px) 100vw, 800px"
              alt="LED Wristbands at the Women's IPL Final" 
              class="w-full h-full object-cover"
              width="800" 
              height="450" 
              loading="lazy" />
          </div>
        </div>
        
        <h2 class="text-2xl font-bold mt-8 mb-4 text-black">The Final Showdown</h2>
        <p class="text-black mb-6">
          This year, the concluding matches of the Women's IPL were held in Mumbai, and we were fortunate enough to secure tickets for the final—a showdown between the Mumbai Indians and the Delhi Capitals. Both teams boasted extraordinarily talented players, and we were eagerly anticipating an interesting and competitive game. Adding to our excitement was the fact that this would be our first visit to the historic Brabourne Stadium.
        </p>
        
        <p class="text-black mb-6">
          The organizers had gone above and beyond to make the Women's IPL Final a spectacular event. Upon entering the stadium, we were handed LED wristbands similar to those at Coldplay concerts, which would light up in coordination with key moments during the match. This attention to detail immediately set the tone for what would be an unforgettable experience.
        </p>
        
        <div class="my-8">
          <div class="aspect-[16/9] bg-gray-200 rounded-lg overflow-hidden">
            <img 
              src="/images/experiences/womens-ipl-2025/image5.webp" 
              srcset="/images/experiences/womens-ipl-2025/image5.webp 800w,
                      /images/experiences/womens-ipl-2025/image5-800w.webp 800w,
                      /images/experiences/womens-ipl-2025/image5-400w.webp 400w"
              sizes="(max-width: 768px) 100vw, 800px"
              alt="Packed crowd at Brabourne Stadium" 
              class="w-full h-full object-cover"
              width="800" 
              height="450" 
              loading="lazy" />
          </div>
        </div>
        
        <h2 class="text-2xl font-bold mt-8 mb-4 text-black">Overwhelming Support</h2>
        <p class="text-black mb-6">
          What struck me most was the incredible turnout. The stadium was absolutely jam-packed, with fans having come out in full force to support women's cricket and particularly the Mumbai Indians. It was heartening to see such overwhelming support for the women's game, which has been growing steadily in popularity but still doesn't always receive the same attention as men's cricket.
        </p>
        
        <p class="text-black mb-6">
          In fact, the organizers seemed to have underestimated just how many people would attend. By mid-match, many of the food and beverage stalls had completely run out of supplies—a minor inconvenience that actually highlighted the event's success in drawing crowds beyond expectations.
        </p>
        
        <h2 class="text-2xl font-bold mt-8 mb-4 text-black">Victory and Heartbreak</h2>
        <p class="text-black mb-6">
          The match itself was thrilling from start to finish. After a hard-fought battle, the Mumbai Indians emerged victorious, securing their second IPL trophy. For the Delhi Capitals, it was a third consecutive appearance in the final without a win—a heartbreaking outcome visibly reflected in the emotions of their players, some of whom were in tears on the field. Such raw emotion is a testament to how much these players invest in the game and how meaningful these tournaments have become for women's cricket.
        </p>
        
        <h2 class="text-2xl font-bold mt-8 mb-4 text-black">Stadium Experience</h2>
        <p class="text-black mb-6">
          All in all, it was a phenomenal experience. While both watching on TV and being at the stadium have their advantages, there's no substitute for witnessing such a significant sporting event in person. The energy of the crowd, the strategic discussions with fellow spectators, and the unfiltered reactions to every boundary and wicket create an immersive experience that television simply cannot replicate.
        </p>
        
        <p class="text-black mb-6">
          We left Brabourne Stadium that evening with a profound appreciation for how far women's cricket has come and excitement for where it's headed. The packed stands and electric atmosphere were proof that the Women's IPL has firmly established itself as a premier sporting event in India, and we feel privileged to have been part of this historic moment.
        </p>
        
        <div class="flex justify-center mt-12 mb-16">
          <a href="/experiences" class="inline-flex items-center text-primary-600 font-medium hover:text-primary-700">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16l-4-4m0 0l4-4m-4 4h18" />
            </svg>
            Back to Experiences
          </a>
        </div>
      </div>

      <!-- Comments Section -->
      <div class="border-t border-gray-200 pt-10 mt-8">
        <h2 class="text-2xl font-bold mb-6 text-black">Comments</h2>
        
        <!-- Comment Form -->
        <div class="bg-white p-6 rounded-lg shadow-md mb-8">
          <form id="comment-form" class="space-y-4">
            <div>
              <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Name</label>
              <input type="text" id="name" name="name" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500">
            </div>
            <div>
              <label for="comment" class="block text-sm font-medium text-gray-700 mb-1">Comment</label>
              <textarea id="comment" name="comment" rows="4" required class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500"></textarea>
            </div>
            <button type="submit" class="px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors">
              Post Comment
            </button>
          </form>
        </div>
        
        <!-- Comments List -->
        <div id="comments-list" class="space-y-6">
          <!-- Comments will be displayed here -->
        </div>
      </div>
    </div>
  </main>

  <!-- Custom Notification Popup -->
  <div id="notification-popup" class="fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-50 transition-opacity duration-300 opacity-0 pointer-events-none">
    <div class="bg-white rounded-xl shadow-xl p-6 max-w-md w-full mx-4 transform transition-transform duration-300 scale-95">
      <div class="text-center">
        <div class="inline-flex items-center justify-center w-16 h-16 rounded-full bg-green-100 mb-4">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
          </svg>
        </div>
        <h3 class="text-xl font-bold text-gray-900 mb-2">Thank You!</h3>
        <p class="text-gray-600 mb-6">Your comment has been posted successfully.</p>
        <button id="popup-close-btn" class="w-full px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors">
          Okay
        </button>
      </div>
    </div>
  </div>

  <script defer>
    // Initialize comments only when user scrolls to them
    let commentsLoaded = false;
    
    document.addEventListener('DOMContentLoaded', function() {
      // Set up lazy loading for comments section
      const commentsSection = document.querySelector('.border-t.border-gray-200');
      
      // Use Intersection Observer to detect when comments section is visible
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting && !commentsLoaded) {
            initializeComments();
            commentsLoaded = true;
            observer.disconnect(); // No need to observe anymore
          }
        });
      }, {
        rootMargin: '100px', // Load a bit before it comes into view
      });
      
      observer.observe(commentsSection);
      
      // Initialize popup functionality right away (it's lightweight)
      setupNotificationPopup();
    });
    
    // Setup notification popup
    function setupNotificationPopup() {
      const notificationPopup = document.getElementById('notification-popup');
      const popupCloseBtn = document.getElementById('popup-close-btn');
      
      // Close popup when the button is clicked
      popupCloseBtn.addEventListener('click', () => hideNotification(notificationPopup));
      
      // Close popup when clicking outside
      notificationPopup.addEventListener('click', function(e) {
        if (e.target === notificationPopup) {
          hideNotification(notificationPopup);
        }
      });
      
      // Close popup when Escape key is pressed
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && !notificationPopup.classList.contains('opacity-0')) {
          hideNotification(notificationPopup);
        }
      });
    }
    
    // Function to show the notification popup
    function showNotification(popup = document.getElementById('notification-popup')) {
      popup.classList.remove('opacity-0', 'pointer-events-none');
      popup.classList.add('opacity-100');
      document.querySelector('#notification-popup > div').classList.remove('scale-95');
      document.querySelector('#notification-popup > div').classList.add('scale-100');
      document.body.style.overflow = 'hidden'; // Prevent scrolling
    }
    
    // Function to hide the notification popup
    function hideNotification(popup = document.getElementById('notification-popup')) {
      popup.classList.remove('opacity-100');
      popup.classList.add('opacity-0', 'pointer-events-none');
      document.querySelector('#notification-popup > div').classList.remove('scale-100');
      document.querySelector('#notification-popup > div').classList.add('scale-95');
      document.body.style.overflow = ''; // Allow scrolling again
    }

    // Initialize comments functionality
    function initializeComments() {
      // Load existing comments
      fetchComments();
      
      // Set up the comment form submission
      const commentForm = document.getElementById('comment-form');
      commentForm.addEventListener('submit', async function(e) {
        e.preventDefault();
        
        const name = document.getElementById('name').value;
        const commentText = document.getElementById('comment').value;
        const timestamp = new Date().toISOString();
        const page = window.location.pathname;
        
        // Create comment object
        const commentData = {
          name,
          comment: commentText,
          timestamp,
          page
        };
        
        try {
          // Call function to save comment
          await saveComment(commentData);
          
          // Clear form
          document.getElementById('comment').value = '';
          
          // Refresh comments
          fetchComments();
          
          // Show custom notification popup
          showNotification();
        } catch (error) {
          console.error('Error posting comment:', error);
          alert('There was an error posting your comment. Please try again.');
        }
      });
    }

    // Function to fetch comments
    async function fetchComments() {
      const page = window.location.pathname;
      const commentsContainer = document.getElementById('comments-list');
      
      try {
        // For local testing, use localStorage
        let comments = [];
        if (window.localStorage) {
          const storedComments = localStorage.getItem('pageComments-' + page);
          if (storedComments) {
            comments = JSON.parse(storedComments).filter(c => c.page === page);
          }
        }
        
        // Clear existing comments
        commentsContainer.innerHTML = '';
        
        if (comments.length === 0) {
          commentsContainer.innerHTML = '<p class="text-gray-500 italic">Be the first to comment!</p>';
          return;
        }
        
        // Sort comments by timestamp (newest first)
        comments.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));
        
        // Render comments
        comments.forEach(comment => {
          const commentEl = document.createElement('div');
          commentEl.className = 'bg-white p-6 rounded-lg shadow-sm';
          
          const date = new Date(comment.timestamp);
          const formattedDate = date.toLocaleDateString('en-US', {
            year: 'numeric',
            month: 'long',
            day: 'numeric'
          });
          
          commentEl.innerHTML = `
            <div class="flex items-center mb-4">
              <div class="bg-primary-100 text-primary-800 rounded-full w-10 h-10 flex items-center justify-center font-bold">
                ${comment.name.charAt(0).toUpperCase()}
              </div>
              <div class="ml-4">
                <h4 class="font-bold text-gray-900">${escape(comment.name)}</h4>
                <p class="text-sm text-gray-500">${formattedDate}</p>
              </div>
            </div>
            <p class="text-gray-700">${escape(comment.comment)}</p>
          `;
          
          commentsContainer.appendChild(commentEl);
        });
      } catch (error) {
        console.error('Error fetching comments:', error);
        commentsContainer.innerHTML = '<p class="text-red-500">Error loading comments. Please refresh the page.</p>';
      }
    }
    
    // Function to save a comment (using localStorage for now)
    async function saveComment(commentData) {
      // For local testing, use localStorage
      if (window.localStorage) {
        const page = window.location.pathname;
        const storedComments = localStorage.getItem('pageComments-' + page) || '[]';
        const comments = JSON.parse(storedComments);
        comments.push(commentData);
        localStorage.setItem('pageComments-' + page, JSON.stringify(comments));
        return { success: true };
      }
    }
    
    // Helper function to escape HTML (prevent XSS)
    function escape(html) {
      const div = document.createElement('div');
      div.textContent = html;
      return div.innerHTML;
    }
  </script>
</Layout> 